[gd_scene load_steps=7 format=2]

[ext_resource path="res://Src/GUI/EnemyGUI.tscn" type="PackedScene" id=1]
[ext_resource path="res://Src/Enemy/TestEnemy.gd" type="Script" id=2]
[ext_resource path="res://Src/Components/Limiter.gd" type="Script" id=3]
[ext_resource path="res://Src/Components/DiceCore/SimpleDiceCore.gd" type="Script" id=4]
[ext_resource path="res://Src/Components/Emitter.gd" type="Script" id=5]
[ext_resource path="res://Src/Objects/EnemyBullet.tscn" type="PackedScene" id=6]

[node name="TestEnemy" type="KinematicBody2D"]
script = ExtResource( 2 )

[node name="Polygon2D" type="Polygon2D" parent="."]
color = Color( 1, 0, 0, 1 )
polygon = PoolVector2Array( 24, 0, 0, -24, -24, 0, 0, 24 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
polygon = PoolVector2Array( 24, 0, 0, -24, -24, 0, 0, 24 )

[node name="EnemyGUI" parent="." instance=ExtResource( 1 )]

[node name="DiceCore" type="Node" parent="."]
script = ExtResource( 4 )
limiter = NodePath("../Limiter")

[node name="Limiter" type="Node" parent="."]
script = ExtResource( 3 )

[node name="DiceTimer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[node name="Emitter" type="Node2D" parent="."]
script = ExtResource( 5 )
bullet_scn = ExtResource( 6 )

[connection signal="dice_rolled" from="DiceCore" to="EnemyGUI" method="_on_DiceCore_dice_rolled"]
[connection signal="lower_limit_changed" from="Limiter" to="EnemyGUI" method="_on_Limiter_lower_limit_changed"]
[connection signal="upper_limit_changed" from="Limiter" to="EnemyGUI" method="_on_Limiter_upper_limit_changed"]
[connection signal="timeout" from="DiceTimer" to="." method="reroll"]
